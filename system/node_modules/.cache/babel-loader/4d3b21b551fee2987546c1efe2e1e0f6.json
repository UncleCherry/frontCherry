{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'LoginName',\n  //这个LoginName最好和引入的vue的LoginName相同\n  data: function data() {\n    return {\n      phonenumber: '',\n      password: '',\n      verifycode: '',\n      codeimg: '',\n      trueVerifycode: '',\n      //正确的验证码\n      customerLogin: true,\n      //标记当前是顾客登录还是房东登录\n      studentIcon: require('../assets/student (1).png'),\n      teacherIcon: require('../assets/teacher.png'),\n      rememberMe: false,\n      imgUrl: [require('../assets/student.png'), require('../assets/student (1).png'), require('../assets/teacher.png'), require('../assets/teacher (1).png')]\n    };\n  },\n  created: function created() {\n    /*\r\n    页面生成时更新\r\n    */\n    //判断是否有\"记住我\"信息\n    var rememberState = localStorage.getItem('rememberPhone');\n    console.log('记住我的状态为：', rememberState);\n\n    if (rememberState === null || rememberState === '') {\n      console.log('上次操作没有选择记住我');\n    } else {\n      console.log('上次操作选择了\"记住我\"，已自动读取');\n      this.phonenumber = localStorage.getItem('rememberPhone');\n      console.log('电话为:', this.phonenumber, localStorage.getItem('rememberPhone'));\n      this.password = localStorage.getItem('rememberPassword');\n      this.rememberMe = true;\n    }\n\n    this.updateVerifyCode();\n  },\n  methods: {\n    submitForm: function submitForm() {\n      console.log('点击登录键'); // this.$parent.$parent.$parent.$parent.$parent.dialogTableVisible=false;\n\n      this.$emit(\"logins\");\n    },\n    updateVerifyCode: function updateVerifyCode() {\n      var _this = this;\n\n      /*\r\n      更新验证码\r\n      */\n      console.log('正在尝试更新验证码');\n      getVerifyCode().then(function (response) {\n        console.log('verifycode:', response);\n        _this.codeimg = response.data.codeimg;\n        _this.trueVerifycode = response.data.verifycode;\n      });\n    },\n    changeToCustomer: function changeToCustomer(index) {\n      if (index == 1) {\n        if (this.customerLogin) {\n          return;\n        }\n\n        this.$message({\n          message: '已切换为学生登录',\n          type: 'success'\n        });\n        console.log('切换为学生登录');\n        this.customerLogin = true;\n        this.studentIcon = require('../assets/student (1).png');\n        this.teacherIcon = require('../assets/teacher.png');\n      } else if (index == 2 && !this.customerLogin) {\n        //鼠标移动上来\n        this.studentIcon = require('../assets/student (1).png');\n      } else if (index == 3) {\n        //鼠标移动出去\n        if (this.customerLogin) {\n          this.studentIcon = require('../assets/student (1).png');\n        } else {\n          this.studentIcon = require('../assets/student.png');\n        }\n      }\n    },\n    changeToHost: function changeToHost(index) {\n      if (index == 1) {\n        if (!this.customerLogin) {\n          return;\n        }\n\n        this.$message({\n          message: '已切换为房东登录',\n          type: 'success'\n        });\n        console.log('切换为房东登录');\n        this.customerLogin = false;\n        this.studentIcon = require('../assets/student.png');\n        this.teacherIcon = require('../assets/teacher (1).png');\n      } else if (index == 2 && this.customerLogin) {\n        //鼠标移动上来\n        this.teacherIcon = require('../assets/teacher (1).png');\n      } else if (index == 3) {\n        //鼠标移动出去\n        if (!this.customerLogin) {\n          this.teacherIcon = require('../assets/teacher (1).png');\n        } else {\n          this.teacherIcon = require('../assets/teacher.png');\n        }\n      }\n    },\n    forgetPassword: function forgetPassword() {\n      /*\r\n      忘记密码\r\n      */\n      console.log('忘记密码按钮被触发');\n      var that = this;\n      this.$router.push({\n        path: '/forgetPassword',\n        query: {\n          isCustomer: that.customerLogin\n        }\n      }); //关闭登录界面\n\n      this.$emit('closeLogin');\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;EACAA,iBADA;EACA;EACAC,IAFA,kBAEA;IACA;MACAC,eADA;MAEAC,YAFA;MAGAC,cAHA;MAIAC,WAJA;MAKAC,kBALA;MAKA;MACAC,mBANA;MAMA;MACAC,iDAPA;MAQAC,6CARA;MASAC,iBATA;MAUAC,2CACAC,oCADA,EAEAA,gCAFA,EAGAA,oCAHA;IAVA;EAgBA,CAnBA;EAoBAC,OApBA,qBAoBA;IACA;AACA;AACA;IAEA;IACA;IAEAC;;IACA;MACAA;IACA,CAFA,MAGA;MACAA;MACA;MACAA;MACA;MACA;IACA;;IACA;EACA,CAxCA;EAyCAC;IACAC,UADA,wBACA;MACAF,qBADA,CAEA;;MACA;IACA,CALA;IAMAG,gBANA,8BAMA;MAAA;;MACA;AACA;AACA;MACAH;MACAI;QACAJ;QACA;QACA;MACA,CAJA;IAKA,CAhBA;IAiBAK,gBAjBA,4BAiBAC,KAjBA,EAiBA;MACA;QACA;UACA;QACA;;QACA;UACAC,mBADA;UAEAC;QAFA;QAIAR;QACA;QACA;QACA;MACA,CAZA,MAaA;QACA;QACA;MACA,CAHA,MAIA;QACA;QACA;UACA;QACA,CAFA,MAGA;UACA;QACA;MACA;IAEA,CA7CA;IA8CAS,YA9CA,wBA8CAH,KA9CA,EA8CA;MACA;QACA;UACA;QACA;;QACA;UACAC,mBADA;UAEAC;QAFA;QAIAR;QACA;QACA;QACA;MACA,CAZA,MAaA;QACA;QACA;MACA,CAHA,MAIA;QACA;QACA;UACA;QACA,CAFA,MAGA;UACA;QACA;MACA;IAEA,CA1EA;IA2EAU,cA3EA,4BA2EA;MACA;AACA;AACA;MACAV;MACA;MACA;QAAAW;QAAAC;UACAC;QADA;MAAA,GANA,CASA;;MACA;IACA;EAtFA;AAzCA","names":["name","data","phonenumber","password","verifycode","codeimg","trueVerifycode","customerLogin","studentIcon","teacherIcon","rememberMe","imgUrl","require","created","console","methods","submitForm","updateVerifyCode","getVerifyCode","changeToCustomer","index","message","type","changeToHost","forgetPassword","path","query","isCustomer"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<!--\r\n  顾客登录输入框组件\r\n  王晨\r\n  2020/5/8\r\n-->\r\n\r\n<template>\r\n    <el-container style=\"height: 100%;\">\r\n        <el-header style=\"height: auto;\">\r\n            <!--顾客身份-->\r\n            <el-image \r\n                :src=\"imgUrl[0]\"\r\n                style=\"width: 10%;position:absolute;top:20%;cursor: pointer;\"\r\n                @mouseover=\"changeToCustomer(2)\" \r\n                @mouseout=\"changeToCustomer(3)\"\r\n            ></el-image>\r\n            <p \r\n            style=\"font-size: xx-large;\r\n            margin-top: 10px;\r\n            text-align: center;\">\r\n            登录</p>\r\n            <!--房东身份-->\r\n            <el-image \r\n                :src=\"teacherIcon\"\r\n                style=\"width: 10%;position:absolute;top:20%;right: 10%;cursor: pointer;\"\r\n                @mouseover=\"changeToHost(2)\" \r\n                @mouseout=\"changeToHost(3)\"\r\n            ></el-image>\r\n            <p></p>\r\n        </el-header>\r\n        <el-form style=\"margin-top: 20px;margin-left: 40px; margin-right: 40px;height: 100%;\">\r\n            <el-row style=\"height: 100%;\">\r\n                <el-form-item>\r\n                    <el-input v-model=\"phonenumber\" placeholder=\"手机号\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input \r\n                    v-model=\"password\" \r\n                    placeholder=\"请输入密码\" \r\n                    show-password\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <!--验证码-->\r\n                <el-form-item style=\"height: 100%;margin-bottom: 0;\">\r\n                    <el-col :span=\"11\">\r\n                        <el-input \r\n                        v-model=\"verifycode\" \r\n                        placeholder=\"验证码\"\r\n                        maxlength=4\r\n                        >\r\n                        </el-input>\r\n                    </el-col>\r\n                    <el-col :span=\"11\" style=\"margin-left: 30px;height: 100%;\">\r\n                        <el-image\r\n                        :src=\"codeimg\"\r\n                        @click=\"updateVerifyCode\"\r\n                        style=\"width: 140px;height:50px;cursor: pointer;\">\r\n                        </el-image>\r\n                    </el-col>\r\n                    \r\n                </el-form-item>\r\n                <el-form-item style=\"margin-bottom: 10px;\">\r\n                    <el-col :span=\"11\" style=\"margin-left: 20px;\">\r\n                        <el-checkbox \r\n                        label=\"记住我\" \r\n                        name=\"type\"\r\n                        v-model=\"rememberMe\"\r\n                        ></el-checkbox>\r\n                    </el-col>\r\n                    <el-col :span=\"11\" style=\"width: auto;margin-left: 40px;\">\r\n                        <el-button \r\n                        type=\"text\"\r\n                        >\r\n                            忘记密码？</el-button>\r\n                    </el-col>\r\n                </el-form-item>\r\n                \r\n            </el-row>\r\n        </el-form>\r\n    </el-container>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n    name: 'LoginName',//这个LoginName最好和引入的vue的LoginName相同\r\n    data(){\r\n        return{\r\n            phonenumber:'',\r\n            password:'',\r\n            verifycode:'',\r\n            codeimg:'',\r\n            trueVerifycode:'',//正确的验证码\r\n            customerLogin:true,//标记当前是顾客登录还是房东登录\r\n            studentIcon:require('../assets/student (1).png'),\r\n            teacherIcon:require('../assets/teacher.png'),\r\n            rememberMe:false,\r\n            imgUrl:[require('../assets/student.png'),\r\n                    require('../assets/student (1).png'),\r\n                    require('../assets/teacher.png'),\r\n                    require('../assets/teacher (1).png'),\r\n            ]\r\n        }\r\n    },\r\n    created(){\r\n        /*\r\n        页面生成时更新\r\n        */\r\n\r\n       //判断是否有\"记住我\"信息\r\n       let rememberState = localStorage.getItem('rememberPhone');\r\n        \r\n       console.log('记住我的状态为：',rememberState);\r\n        if (rememberState === null || rememberState === '') {\r\n            console.log('上次操作没有选择记住我')\r\n        }\r\n        else{\r\n            console.log('上次操作选择了\"记住我\"，已自动读取')\r\n            this.phonenumber=localStorage.getItem('rememberPhone');\r\n            console.log('电话为:',this.phonenumber,localStorage.getItem('rememberPhone'));\r\n            this.password=localStorage.getItem('rememberPassword');\r\n            this.rememberMe=true;\r\n        }\r\n        this.updateVerifyCode();\r\n    },\r\n    methods:{\r\n        submitForm(){\r\n            console.log('点击登录键')\r\n            // this.$parent.$parent.$parent.$parent.$parent.dialogTableVisible=false;\r\n            this.$emit(\"logins\")\r\n        },\r\n        updateVerifyCode(){\r\n            /*\r\n            更新验证码\r\n            */\r\n            console.log('正在尝试更新验证码');\r\n            getVerifyCode().then(response=>{\r\n                console.log('verifycode:',response);\r\n                this.codeimg=response.data.codeimg;\r\n                this.trueVerifycode=response.data.verifycode;\r\n            })\r\n        },\r\n        changeToCustomer(index){\r\n            if(index==1){\r\n                if(this.customerLogin){\r\n                    return;\r\n                }\r\n                this.$message({\r\n                    message: '已切换为学生登录',\r\n                    type: 'success'\r\n                });\r\n                console.log('切换为学生登录');\r\n                this.customerLogin=true;\r\n                this.studentIcon=require('../assets/student (1).png');\r\n                this.teacherIcon=require('../assets/teacher.png');\r\n            }\r\n            else if (index==2&&!this.customerLogin){\r\n                //鼠标移动上来\r\n                this.studentIcon=require('../assets/student (1).png');\r\n            }\r\n            else if (index==3){\r\n                //鼠标移动出去\r\n                if(this.customerLogin){\r\n                    this.studentIcon=require('../assets/student (1).png');\r\n                }\r\n                else{\r\n                    this.studentIcon=require('../assets/student.png');\r\n                }\r\n            }\r\n            \r\n        },\r\n        changeToHost(index){\r\n            if(index==1){\r\n                if(!this.customerLogin){\r\n                    return;\r\n                }\r\n                this.$message({\r\n                    message: '已切换为房东登录',\r\n                    type: 'success'\r\n                });\r\n                console.log('切换为房东登录');\r\n                this.customerLogin=false;\r\n                this.studentIcon=require('../assets/student.png');\r\n                this.teacherIcon=require('../assets/teacher (1).png');\r\n            }\r\n            else if (index==2&&this.customerLogin){\r\n                //鼠标移动上来\r\n                this.teacherIcon=require('../assets/teacher (1).png');\r\n            }\r\n            else if (index==3){\r\n                //鼠标移动出去\r\n                if(!this.customerLogin){\r\n                    this.teacherIcon=require('../assets/teacher (1).png');\r\n                }\r\n                else{\r\n                    this.teacherIcon=require('../assets/teacher.png');\r\n                }\r\n            }\r\n\r\n        },\r\n        forgetPassword(){\r\n            /*\r\n            忘记密码\r\n            */\r\n            console.log('忘记密码按钮被触发')\r\n            let that=this\r\n            this.$router.push({path:'/forgetPassword',query:{\r\n                isCustomer:that.customerLogin\r\n            }});\r\n            //关闭登录界面\r\n            this.$emit('closeLogin');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}